<p-message *ngIf="errorMessage" severity="error">{{ errorMessage }}</p-message>


<div #swipeZone class="p-4">
    <full-calendar [options]="calendarOptions">
        <ng-template #eventContent let-arg>
            <span class="text-sm">{{ arg.event.title }}</span>
        </ng-template>
    </full-calendar>
</div>


<p-dialog [header]="workout?.date | date:'fullDate' | titlecase" [modal]="true" [(visible)]="showModalViewWorkout" dismissableMask="true"
          [style]="{ width: '25rem' }">
    <div *ngIf="workout" class="p-2">
        <h2 class="mb-2">{{ workout.muscleGroup.name }}</h2>

        <div class="p-3 bg border-round-lg" [ngClass]="{
                    'recommended-light': !isDarkMode,
                    'recommended-dark': isDarkMode,
                    'shadow-dark': isDarkMode,
                    'shadow-light': !isDarkMode
                    }">

            <!-- List exercises -->
            <ng-container *ngFor="let h of workout.history; let i = index">
                <hr class="mt-3 mb-3" *ngIf="i > 0 && workout.history[i - 1].exercise.id !== h.exercise.id" />
                <div class="flex justify-content-between mb-3">

                    <!-- Exercise name -->
                    <div class="text-primary text-lg">
                        <span *ngIf="h.exercise.count > 1">{{ h.exercise.count }}x</span>
                        {{ h.exercise.name }}
                    </div>

                    <!-- Weight -->
                    <div class="flex flex-column text-right text-sm text-color-secondary">
                        {{ h.weight }} kg
                    </div>
                </div>
            </ng-container>
        </div>
        <div class="flex justify-content-end mt-3">
            <p-button severity="danger"
                (onClick)="openModalDeleteWorkout(workout.id, workout.muscleGroup.name, workout.date)"
                icon="pi pi-trash" label="Supprimer" />
        </div>
    </div>
</p-dialog>


<p-confirmdialog></p-confirmdialog>
